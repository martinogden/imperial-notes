\NeedsTeXFormat{LaTeX2e}[1996/06/01]

% Last edited 26 February, 2012 by A. Chan

\ProvidesPackage{drangsymbols}[2012/05/12 v1.2 alexwlchan]


% \begingroup
%     \makeatletter
%     \@for\theoremstyle:=definition,remark,plain\do{%
%         \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
%             \setlength\thm@postskip{0pt}
%             }%
%         }
% \endgroup
% 
% % \begingroup
% %     \makeatletter
% %     \@for\theoremstyle:=proof\do{%
% %         \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
% %             \setlength\thm@preskip{0pt}
% % 			\setlength\thm@postskip{0pt}
% %             }%
% %         }
% % \endgroup
% 
% \begingroup
%     \makeatletter
%     \@for\theoremstyle:=remark\do{%
%         \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
%             \setlength\thm@preskip\parskip
%             }%
%         }
% \endgroup

% \RequirePackage{amsthm}
% \theoremstyle{plain}

\RequirePackage{mdframed,color,tikz}

\definecolor{grey60}{rgb}{0.7,0.7,0.7}

\newenvironment{theorem}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\mdfsetup{%
    frametitle={%
       \tikz[baseline=(current bounding box.east),outer sep=0pt]
        \node[anchor=east,rectangle,fill=grey60]
        {\strut Theorem~\theequation};}}
  }%
  {\mdfsetup{%
     frametitle={%
       \tikz[baseline=(current bounding box.east),outer sep=0pt]
        \node[anchor=east,rectangle,fill=grey60]
        {\strut Theorem~\theequation:~#1};}}%
   }%
   \mdfsetup{linecolor=grey60,%
   			 skipabove=1.7\parskip,skipbelow=0.5\parskip,
             linewidth=2pt,topline=true,
             frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
   }{\end{mdframed}}

\newenvironment{definition}[1][]{
  \refstepcounter{equation}
  \global\mdfdefinestyle{definition}{%
  	linecolor=grey60,linewidth=5pt,%
	skipabove=0.4\parskip,skipbelow=0.4\parskip,
  	topline=false,rightline=false,bottomline=false
  }
  \ifstrempty{#1}%
  {\begin{mdframed}[style=definition]
  {\bfseries{Definition~\theequation.}} % Removed ~\theequation before the full stop
  \relax}
  {\begin{mdframed}[style=definition]
  {\bfseries{Definition}} (#1){\bfseries{.}}\relax % Removed ~\theequation before the full stop
}}{\end{mdframed}}

\newenvironment{axiom}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\begin{mdframed}[style=definition]
  {\bfseries{Axiom~\theequation.}}
  \relax}
  {\begin{mdframed}[style=definition]
  {\bfseries{Axiom~\theequation}} (#1){\bfseries{.}}\relax%
}}{\end{mdframed}}


\global\mdfdefinestyle{lemma}{%
	linecolor=grey60,linewidth=1.5pt,
	skipabove=0.5\parskip,skipbelow=0.5\parskip,
	topline=false,rightline=false,bottomline=false
}

% \newenvironment{lemma}[1][]{%
%  \refstepcounter{equation}%
%   \ifstrempty{#1}%
%   {\begin{mdframed}[style=lemma]
%   {\bfseries{Lemma~\theequation.}}
%   \relax}
%   {\begin{mdframed}[style=lemma]
%   {\bfseries{Lemma~\theequation}} (#1){\bfseries{.}}\relax%
% }}{\end{mdframed}}

% \newenvironment{axiom}[1][]{%
%  \refstepcounter{equation}%
%   \ifstrempty{#1}%
%   {\begin{mdframed}[style=lemma]
%   {\bfseries{Axiom~\theequation.}}
%   \relax}
%   {\begin{mdframed}[style=lemma]
%   {\bfseries{Axiom~\theequation}} (#1){\bfseries{.}}\relax%
% }}{\end{mdframed}}

\newenvironment{example}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\begin{mdframed}[style=lemma]
  {\bfseries{Example~\theequation.}}
  \relax}
  {\begin{mdframed}[style=lemma]
  {\bfseries{Example~\theequation}} (#1){\bfseries{.}}\relax%
}}{\end{mdframed}}

\newenvironment{solution}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\begin{mdframed}[style=lemma]
  {\bfseries{}}
  \relax}
  {\begin{mdframed}[style=lemma]
  {\bfseries{}} (#1){\bfseries{.}}\relax%
}}{\end{mdframed}}


\newenvironment{examples}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\begin{mdframed}[style=lemma]
  {\bfseries{Examples~\theequation.}}
  \relax}
  {\begin{mdframed}[style=lemma]
  {\bfseries{Examples~\theequation}} (#1){\bfseries{.}}\relax%
}}{\end{mdframed}}

\newenvironment{exercise}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\begin{mdframed}[style=lemma]
  {\bfseries{Exercise~\theequation.}}
  \relax}
  {\begin{mdframed}[style=lemma]
  {\bfseries{Exercise~\theequation}} (#1){\bfseries{.}}\relax%
}}{\end{mdframed}}

\newenvironment{exercises}[1][]{%
 \refstepcounter{equation}%
  \ifstrempty{#1}%
  {\begin{mdframed}[style=lemma]
  {\bfseries{Exercises~\theequation.}}
  \relax}
  {\begin{mdframed}[style=lemma]
  {\bfseries{Exercises~\theequation}} (#1){\bfseries{.}}\relax%
}}{\end{mdframed}}

\newenvironment{question}[1][]{%
 \item #1}

% \newenvironment{proposition}[1][]{%
%  \refstepcounter{equation}%
%   \ifstrempty{#1}%
%   {\begin{mdframed}[style=lemma]
%   {\bfseries{Proposition~\theequation.}}
%   \relax}
%   {\begin{mdframed}[style=lemma]
%   {\bfseries{Proposition~\theequation}} (#1){\bfseries{.}}\relax%
% }}{\end{mdframed}}


\RequirePackage{amsthm}

\theoremstyle{plain}
% \newtheorem{axiom}[equation]{Axiom}
\newtheorem*{aim}{Aim}
\newtheorem{corollary}[equation]{Corollary}
\newtheorem{assertion}[equation]{Assertion}
\newtheorem{lemma}[equation]{Lemma}
\newtheorem{proposition}[equation]{Proposition}
\newtheorem{proc}[equation]{Procedure}
\newtheorem{algorithm}[equation]{Algorithm}
\newtheorem{method}[equation]{Method}
\newtheorem{claim}[equation]{Claim}

\theoremstyle{definition}
\newtheorem{problem}[equation]{Problem}

\theoremstyle{remark}
\newtheorem{remark}[equation]{Remark}
\newtheorem*{proof*}{Proof}
\newtheorem{remarks}[equation]{Remarks}
\newtheorem*{note}{Note}
\newtheorem*{notes}{Notes}

% \newtheorem{task}{Task}
% 
% \theoremstyle{definition}
% \newtheorem{definition}{Definition}
% \newtheorem*{openproblem}{Open problem}
% \newtheorem{exercise}{$\blacktriangleright$
% 					   \hypertarget{Ex\theexercise}{Exercise}}[lecture]
% 


% Solutions
% \RequirePackage{answers}
% \Newassociation{solution}{Solution}{exSolutions}
% \renewenvironment{Solution}[1]{%\small%
%	\begin{trivlist} \item \textit{Solution}~#1.}{%
%	\hspace*{\fill} $\blacksquare$\end{trivlist}}

% Warnings
\newenvironment{warning}{%
	\vspace{-6pt}
	\begin{trivlist} \item[] \noindent%
	\begingroup\hangindent=2pc\hangafter=-2
	\clubpenalty=10000%
	\hbox to0pt{\hskip-\hangindent\dbend\hfill}\ignorespaces
	\textit{Warning}.}%
	{\endgraf\endgroup\end{trivlist}}

\newenvironment{warnings}{%
	\vspace{-6pt}
	\begin{trivlist} \item[] \noindent%
	\begingroup\hangindent=2pc\hangafter=-2
	\clubpenalty=10000%
	\hbox to0pt{\hskip-\hangindent\dbend\hfill}\ignorespaces
	\textit{Warnings}.}%
	{\endgraf\endgroup\end{trivlist}}

\newcommand{\isin}{\ensuremath{\in}}
\newcommand{\inch}{\ensuremath{{}^{\prime\prime}}}
\newcommand{\ft}{\ensuremath{{}^\prime}}
\newcommand{\by}{\ensuremath{\!\times\!}}
\newcommand{\degrees}{\ensuremath{{}^\circ}}
\newcommand{\lbin}{\ensuremath{\mathrm{lb \! \cdot \! in}}}
\newcommand{\inlb}{\ensuremath{\mathrm{in \! \cdot \! lb}}}
\newcommand{\kin}{\ensuremath{\mathrm{k \! \cdot \! in}}}
\newcommand{\ink}{\ensuremath{\mathrm{in \! \cdot \! k}}}
\newcommand{\lbft}{\ensuremath{\mathrm{lb \! \cdot \! ft}}}
\newcommand{\ftlb}{\ensuremath{\mathrm{ft \! \cdot \! lb}}}
\newcommand{\kft}{\ensuremath{\mathrm{k \! \cdot \! ft}}}
\newcommand{\ftk}{\ensuremath{\mathrm{ft \! \cdot \! k}}}
\newcommand{\Nmm}{\ensuremath{\mathrm{N \! \cdot \! mm}}}
\newcommand{\Nm}{\ensuremath{\mathrm{N \! \cdot \! m}}}
\newcommand{\degree}{\ensuremath{^\circ}}

\newcommand{\sfrac}[2]{\ensuremath{\leavevmode\kern0em\raise.5ex
         \hbox{\mbox{\fontsize\sf@size\z@
                           \selectfont#1}}\kern-.05em
         /\kern-.1em
          \hbox{\mbox{\fontsize\sf@size\z@
                            \selectfont#2}}}}

\RequirePackage{amssymb,fakeMnSymbol}

\newcommand{\disp}{\displaystyle}

\newcommand{\dlim}{\displaystyle\lim}
\newcommand{\del}{\partial}
\newcommand{\Del}{\nabla}

% \newcommand{\powerset}{\MNSpowerset}
\newcommand{\powerset}{\wp}

\renewcommand{\bf}[1]{\textbf{#1}}
\renewcommand{\sf}[1]{\ensuremath{\mathsf{#1}}}
\renewcommand{\rm}[1]{\ensuremath{\mathrm{#1}}}
\renewcommand{\cal}[1]{\ensuremath{\mathcal{#1}}}
\newcommand{\bb}[1]{\ensuremath{\mathbb{#1}}}
\renewcommand{\tt}[1]{\ensuremath{\mathtt{#1}}}
\newcommand{\mono}[1]{{\small\texttt{#1}}}
\renewcommand{\bold}[1]{\ensuremath{\boldsymbol{#1}}}
\renewcommand{\frak}[1]{\ensuremath{\mathfrak{#1}}}

\renewcommand{\d}{\dif}

\renewcommand{\l}{\lambda}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\let\C\relax
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}

\newcommand{\Rm}{\R^m}
\newcommand{\Rn}{\R^n}
\newcommand{\Cn}{\C^n}
\newcommand{\Fm}{\F^m}
\newcommand{\Fn}{\F^n}

\newcommand{\iN}{\in\N}
\newcommand{\iZ}{\in\Z}
\newcommand{\iQ}{\in\Q}
\newcommand{\iR}{\in\R}
\newcommand{\iRn}{\in\Rn}
\newcommand{\iRm}{\in\Rm}
\newcommand{\iC}{\in\C}
\newcommand{\iCn}{\in\Cn}
\newcommand{\iF}{\in\F}

\DeclareMathOperator*{\id}{id}
\DeclareMathOperator*{\Curl}{curl}
\DeclareMathOperator*{\Grad}{grad}
\DeclareMathOperator*{\Div}{div}

\DeclareMathOperator*{\sech}{sech}
\DeclareMathOperator*{\cosech}{cosech}
\DeclareMathOperator*{\cosec}{cosec}

\newcommand{\grad}{\bold{\nabla}}
\newcommand{\cross}{\times}

\newcommand{\f}[2]{\frac{#1}{#2}}
\newcommand{\df}[2]{\dfrac{#1}{#2}}
\newcommand{\tf}[2]{\textstyle\frac{#1}{#2}}
\newcommand{\dy}[2]{\od{#1}{#2}}
\newcommand{\ddy}[2]{\od[2]{#1}{#2}}
\newcommand{\pa}[2]{\pd{#1}{#2}}
\newcommand{\pab}[3]{\md{2}{#1}{1}{#2}{1}{#3}}
\newcommand{\ppa}[2]{\pd[2]{#1}{#2}}
\newcommand{\mat}[1]{\begin{pmatrix} #1 \end{pmatrix}}
\newcommand{\vmat}[1]{\begin{vmatrix} #1 \end{vmatrix}}

\newcommand{\wiki}[2]{\href{http://en.wikipedia.org/wiki/#1}{\emph{#2}}}
\newcommand{\wikirm}[2]{\href{http://en.wikipedia.org/wiki/#1}{#2}}

\newcommand{\lV}{\left\Vert}
\newcommand{\rV}{\right\Vert}

\newcommand{\lv}{\left\vert}
\newcommand{\rv}{\right\vert}

\newcommand{\vvert}[1]{\left\vert #1 \right\vert}

\newcommand{\isom}{\cong}
\newcommand{\isomto}{\xrightarrow{\sim}}
\newcommand{\isomfrom}{\xleftarrow{\sim}}

\newcommand{\surjto}{\twoheadrightarrow}
\newcommand{\surjfrom}{\twoheadleftarrow}

\newcommand{\injto}{\hookrightarrow}
\newcommand{\injfrom}{\hookrightarrow}

\renewcommand{\vec}[1]{\boldsymbol{#1}}

\DeclareMathOperator*{\erf}{erf}

\newcommand{\qend}{\hfill $\blacksquare$}

% Setup the matha font (from mathabx.sty)
\DeclareFontFamily{U}{matha}{\hyphenchar\font45}
\DeclareFontShape{U}{matha}{m}{n}{
      <5> <6> <7> <8> <9> <10> gen * matha
      <10.95> matha10 <12> <14.4> <17.28> <20.74> <24.88> matha12
      }{}
\DeclareSymbolFont{matha}{U}{matha}{m}{n}

% Define a subset character from that font (from mathabx.dcl) to completely replace the \subset character, you can replace \varsubset with \subset
\DeclareMathSymbol{\notdivides}{3}{matha}{"1F}
\DeclareMathSymbol{\divides}{3}{matha}{"17}

% Some code for the titlepage
% This takes the format {%part}{%term}{%course name}{%lecturer_initials}{%lecturer_surname}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

% At some point I should roll these together

% Major heading line 1
% Major heading line 2
% Minor heading
% Title
% Lectured by
% Professor
% Notes by
% Me
% Footer text
\newcommand{\TitlePage}[9]
{
\begin{center}

\thispagestyle{empty}

\textsc{\textcolor{white}{AAA}}\\[1.5cm]
{\large #1}\\[0.1cm]
{\large #2}\\[0.5cm] % Major heading such as course name
{\large #3}\\[0.5cm] % Minor heading such as course title
	
\HRule \\[0.4cm]
{\huge \sffamily\bfseries #4}\\[0.4cm] % Title of your document
\HRule \\[1.5cm]
	
	\begin{minipage}{0.4\textwidth}
	\begin{flushleft} \large
	\emph{#5}\\
	#6 % Your name
	\end{flushleft}
	\end{minipage}
	~
	\begin{minipage}{0.4\textwidth}
	\begin{flushright} \large
	\emph{#7} \\
	#8 % Supervisor's Name
	\end{flushright}
	\end{minipage}
	
	\vspace*{20pt}
	\begin{centering}
	\includegraphics[width=0.5\textwidth]{title.jpg}~
	\end{centering}
	
	\vfill
	
	#9 \\[0.3cm] %
		
	\end{center}
	
	\pagebreak}

% My custom title pages for Imperial notes

\newcommand{\NotesTitle}[6]{\TitlePage
	{1st Year Mathematics}
		{Imperial College London}
		{#2}
		{#3}
		{Lectured by:}
		{#4~\textsc{#5}}
		{Humbly typed by:}
		{Karim \textsc{Bacchus}}		
	    {
	        {\ Unofficial notes, \emph{not} endorsed by Imperial College.}\\[0.1cm]
			{\ Comments and corrections should be sent to \href{mailto:kb514@ic.ac.uk}{kb514@ic.ac.uk}.}\\[0.1cm]
			{\ Latest version of these notes (and others) at \href{http://bit.ly/icmaths}{\texttt{bit.ly/icmaths}} }
		}
		\thispagestyle{empty}
		
		#6
		
		\setcounter{page}{0}
		
\newpage}

\newcommand{\NotesSubTitle}[7]{\SubTitlePage
	{1st Year Mathematics}
		{Imperial College London}
		{#2}
		{{\huge \sffamily\bfseries #3}\\[0.4cm]
	
		{\large \sffamily\bfseries #7}}
		{Lectured by:}
		{#4~\textsc{#5}}
		{Humbly typed by:}
		{Karim \textsc{Bacchus}}
		{
			{\ Comments and corrections should be sent to \href{mailto:kb514@ic.ac.uk}{kb514@cam.ac.uk}.} \\[0.5cm] %
			{\ This work is licensed under a \href{http://creativecommons.org/licenses/by-nc-sa/3.0/}{Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License}.} \\[0.5cm] %
			{\ The following resources are \emph{not} endorsed by the University of Cambridge.}
		}
		
		\thispagestyle{empty}
		
		#6
		
		\setcounter{page}{0}
		
\newpage}

\newcommand{\ExamplesTitle}[3]
{{\LARGE\bfseries\sffamily{#1, Examples Sheet #2}}

{\bfseries\sffamily{FAO: #3 \\
From: Alex Chan \\
Printed: \today.}}

\thispagestyle{empty}}

\usepackage{marginnote}
\newcommand{\datemarker}[1]{\marginnote{\footnotesize{\sffamily{#1}}}}
\newcommand{\lecturemarker}[2]{\marginnote{\footnotesize{\sffamily{Lecture #1}}}}

\newcommand{\p}{^{\,\prime}}
\newcommand{\pp}{^{\,\prime\prime}}
\newcommand{\ppp}{^{\,\prime\prime\prime}}

\newcommand{\drangarray}{\renewcommand{\arraystretch}{0.95}}
\drangarray

\DeclareMathOperator*{\RHS}{RHS}
\DeclareMathOperator*{\LHS}{LHS}

\DeclareMathOperator*{\Image}{Im}

% These two commands came from a course in Probability
\newcommand{\glstack}{\begin{array}{c} \geq \\ \leq\end{array}}
\newcommand{\lgstack}{\begin{array}{c} \leq \\ \geq\end{array}}

\newcommand{\intinf}{\int_{-\infty}^\infty}

\newcommand{\mnewline}{\\[-5pt] &}

% \newcommand{\mmaticablock}[2]{
% \renewcommand{\arraystretch}{1.3}
% \begin{tabular}{r p{12cm}}
% 	\mtmc In[1]:= &
% \begin{minipage}[t]{\linewidth}
% \begin{verbatim}
% return [offset](\%ebp)
% return2
% \end{verbatim}
% \end{minipage}
% \end{tabular}
% \drangarray
% }

% \newcommand{\mmaticablock}[1]{
% \renewcommand{\arraystretch}{1.3}
% \begin{tabular}{
% 	>{\mtmc}{r} p{0.55cm} p{12cm}}
% 	#1
% \end{tabular}
% \drangarray}

% \newcommand{\mmaticablock}[1]{
% \renewcommand{\arraystretch}{1.3}
% \begin{tabular}{>{\begin{figure}[!h]\begin{minipage}[t]{1.0\textwidth}\vspace{0pt}\mtmc}r <{\end{minipage}\end{figure}}  >{\begin{minipage}{1.0\textwidth}} p{0.9\textwidth} <{\end{minipage}}}
% 	#1
% \end{tabular}
% \drangarray}

% {%
%  \refstepcounter{catamlisting}%
%   {{\bfseries\sffamily{Listing~\thecatamlisting.}}\relax} #1 {}}

% Indicator functions
\DeclareMathOperator*{\ind}{1}

\usetikzlibrary{arrows, decorations.markings}
\newcommand{\bigarrow}{\draw [decoration={markings,mark=at position 1 with {\arrow[scale=2]{>}}},
    		   postaction={decorate},
    		   shorten >=0.4pt]}

\newcommand{\norm}[1]{\left\Vert #1 \right\Vert}
\DeclareMathOperator{\Norm}{N}

\newcommand{\ph}{\phantom{-}}
\newcommand{\shadeblack}{black!25}

\newcommand{\qqand}{\qquad \text{and} \qquad}
\newcommand{\qqwhere}{\qquad \text{where} \qquad}

\newcommand{\lecturenotesend}{\begin{center} \mbox{} \\[1cm] {\sffamily\bfseries{End of notes}} \end{center}}
\newcommand{\lecturenotesendshort}{\begin{center} {\sffamily\bfseries{End of notes}} \end{center}}

\newcommand{\TikZ}{Ti\emph{k}Z}